(()=>{"use strict";var e,t,r,n,i={237:(e,t,r)=>{r.a(e,(async(e,t)=>{try{var n=r(300),i=r(370),a=r(342),o=r(774),u=e([n]);n=(u.then?(await u)():u)[0],(async()=>{const e=e=>{document.querySelector("#overlay").textContent=e},t=document.querySelector("#canvas"),r=t.getContext("webgl2");if(!r)return void e("WebGL2 failed to load");let u=null,c=null,s=null,f=null,l=!1,d=null,m=50;const E=()=>{if(l){const e=.275*r.canvas.clientWidth,t=.275*r.canvas.clientHeight;null!=s&&(rt+=(u-s)*e,nt+=(c-f)*t),nt<181&&(nt=181),nt>360&&(nt=360),rt%=360,s=u,f=c}},R=e=>{m+=e,m>150&&(m=150),m<20&&(m=20)};r.canvas.addEventListener("mousedown",(e=>{l=!0})),r.canvas.addEventListener("mouseup",(e=>{l=!1,u=null,c=null,s=null,f=null})),r.canvas.addEventListener("mousemove",(e=>{const n=t.getBoundingClientRect();u=(e.clientX-n.left)/r.canvas.clientWidth,c=(e.clientY-n.top)/r.canvas.clientHeight,E()})),r.canvas.addEventListener("touchstart",(e=>{e.preventDefault(),l=!0})),r.canvas.addEventListener("touchend",(e=>{l=!1,d=null,u=null,c=null,s=null,f=null})),r.canvas.addEventListener("touchmove",(e=>{if(2===e.touches.length){const t=Math.sqrt(Math.pow(e.touches[1].clientX-e.touches[0].clientX,2)+Math.pow(e.touches[1].clientY-e.touches[0].clientY,2));null!==d&&R(.3*(d-t)),d=t}else{const n=t.getBoundingClientRect();u=(e.touches[0].clientX-n.left)/r.canvas.clientWidth,c=(e.touches[0].clientY-n.top)/r.canvas.clientHeight,E()}})),r.canvas.addEventListener("wheel",(e=>{R(.0325*e.deltaY)}));let _=t.clientWidth/t.clientHeight,T=r.canvas.width,b=r.canvas.height;const h=new ResizeObserver((e=>{for(const t of e)t.devicePixelContentBoxSize?(T=t.devicePixelContentBoxSize[0].inlineSize,b=t.devicePixelContentBoxSize[0].blockSize):t.contentBoxSize?(T=t.contentBoxSize[0].inlineSize*window.devicePixelRatio,b=t.contentBoxSize[0].blockSize*window.devicePixelRatio):(T=t.contentRect.width*window.devicePixelRatio,b=t.contentRect.height*window.devicePixelRatio)}));try{h.observe(t,{box:"device-pixel-content-box"})}catch{h.observe(t,{box:"content-box"})}r.enable(r.CULL_FACE),r.enable(r.DEPTH_TEST),r.enable(r.BLEND),r.blendFunc(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!0),r.pixelStorei(r.UNPACK_ALIGNMENT,1),e("Loading shaders");const x=(0,a.g)(r,r.VERTEX_SHADER,await(await fetch("shaders/SceneVertexShader.glsl")).text()),v=(0,a.g)(r,r.FRAGMENT_SHADER,await(await fetch("shaders/SceneFragmentShader.glsl")).text()),A=(0,a.r)(r,x,v),g=r.getAttribLocation(A,"a_position"),p=r.getAttribLocation(A,"a_normal"),w=r.getAttribLocation(A,"a_textureCoord"),U=r.getUniformLocation(A,"u_world"),F=r.getUniformLocation(A,"u_view"),y=r.getUniformLocation(A,"u_projection"),S=r.getUniformLocation(A,"u_textureMatrix"),L=r.getUniformLocation(A,"u_isReflection"),M=r.getUniformLocation(A,"u_reflectionHeight"),B=r.getUniformLocation(A,"u_diffuseMap"),D=r.getUniformLocation(A,"u_projectedTexture"),N=r.getUniformLocation(A,"u_lightDirection"),X=r.getUniformLocation(A,"u_lightIntensity"),P=r.getUniformLocation(A,"u_diffuse"),C=r.getUniformLocation(A,"u_opacity"),I=(0,a.g)(r,r.VERTEX_SHADER,await(await fetch("shaders/ShadowVertexShader.glsl")).text()),V=(0,a.g)(r,r.FRAGMENT_SHADER,await(await fetch("shaders/ShadowFragmentShader.glsl")).text()),O=(0,a.r)(r,I,V),G=r.getAttribLocation(O,"a_position"),j=r.getUniformLocation(O,"u_world"),H=r.getUniformLocation(O,"u_view"),W=r.getUniformLocation(O,"u_projection"),Y=(0,a.g)(r,r.VERTEX_SHADER,await(await fetch("shaders/SunVertexShader.glsl")).text()),K=(0,a.g)(r,r.FRAGMENT_SHADER,await(await fetch("shaders/SunFragmentShader.glsl")).text()),$=(0,a.r)(r,Y,K),z=r.getAttribLocation($,"a_position"),k=r.getAttribLocation($,"a_textureCoord"),q=r.getUniformLocation($,"u_world"),J=r.getUniformLocation($,"u_view"),Q=r.getUniformLocation($,"u_projection"),Z=r.getUniformLocation($,"u_lightIntensity"),ee=(0,a.g)(r,r.VERTEX_SHADER,await(await fetch("shaders/SkySphereVertexShader.glsl")).text()),te=(0,a.g)(r,r.FRAGMENT_SHADER,await(await fetch("shaders/SkySphereFragmentShader.glsl")).text()),re=(0,a.r)(r,ee,te),ne=r.getAttribLocation(re,"a_position"),ie=r.getAttribLocation(re,"a_textureCoord"),ae=r.getUniformLocation(re,"u_world"),oe=r.getUniformLocation(re,"u_view"),ue=r.getUniformLocation(re,"u_projection"),ce=r.getUniformLocation(re,"u_visibility"),se=(0,a.g)(r,r.VERTEX_SHADER,await(await fetch("shaders/WaterVertexShader.glsl")).text()),fe=(0,a.g)(r,r.FRAGMENT_SHADER,await(await fetch("shaders/WaterFragmentShader.glsl")).text()),le=(0,a.r)(r,se,fe),de=r.getAttribLocation(le,"a_position"),me=r.getAttribLocation(le,"a_normal"),Ee=r.getAttribLocation(le,"a_textureCoord"),Re=r.getUniformLocation(le,"u_world"),_e=r.getUniformLocation(le,"u_view"),Te=r.getUniformLocation(le,"u_projection"),be=r.getUniformLocation(le,"u_textureMatrix"),he=r.getUniformLocation(le,"u_reflectionDiffuseMap"),xe=r.getUniformLocation(le,"u_diffuseMap"),ve=r.getUniformLocation(le,"u_projectedTexture"),Ae=r.getUniformLocation(le,"u_lightDirection"),ge=r.getUniformLocation(le,"u_lightIntensity"),pe=r.getUniformLocation(le,"u_opacity");e("Loading models");const we=await(0,i.A)("./models","scene");we.delete("Clouds");const Ue=new Map([["Water",we.get("Water")]]);we.delete("Water");const Fe=await(0,i.A)("./models","starsphere"),ye=await(0,i.A)("./models","nebula"),Se=await(0,i.A)("./models","cloudsphere"),Le=await(0,i.A)("./models","clouds"),Me=await(0,i.A)("./models","sun"),Be=new Set,De=t=>{const n=r.createTexture();if(r.bindTexture(r.TEXTURE_2D,n),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,new Uint8Array([255,255,255,255])),t){const i=new Image;i.src=t,Be.add(t),e("Loading textures"),i.onload=a=>{r.bindTexture(r.TEXTURE_2D,n),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,i),r.generateMipmap(r.TEXTURE_2D),Be.delete(t),0===Be.size&&e(null)}}return n},Ne=(e,t,n,i,a)=>{const o=[];return e.forEach((e=>{e.meshes.forEach((u=>{const c={objName:void 0,vao:void 0,faces:0,material:void 0,posBuffer:void 0,normalBuffer:void 0,textureCoordBuffer:void 0,texture:void 0};c.objName=e.objName,c.faces=u.faces,c.material=u.material,c.texture=De(u.material.diffuseMap?`models/${u.material.diffuseMap}`:null),(t||0===t||a||0===a)&&(c.posBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,c.posBuffer),r.bufferData(r.ARRAY_BUFFER,new Float32Array(u.positions),r.STATIC_DRAW)),(n||0===n)&&(c.normalBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,c.normalBuffer),r.bufferData(r.ARRAY_BUFFER,new Float32Array(u.normals),r.STATIC_DRAW)),(i||0===i)&&(c.textureCoordBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,c.textureCoordBuffer),r.bufferData(r.ARRAY_BUFFER,new Float32Array(u.textureCoords),r.STATIC_DRAW)),(a||0===a)&&(c.shadowVAO=r.createVertexArray(),r.bindVertexArray(c.shadowVAO),r.bindBuffer(r.ARRAY_BUFFER,c.posBuffer),r.vertexAttribPointer(a,3,r.FLOAT,!1,0,0),r.enableVertexAttribArray(a),r.bindVertexArray(null)),c.vao=r.createVertexArray(),r.bindVertexArray(c.vao),(t||0===t)&&(r.bindBuffer(r.ARRAY_BUFFER,c.posBuffer),r.vertexAttribPointer(t,3,r.FLOAT,!1,0,0),r.enableVertexAttribArray(t)),(n||0===n)&&(r.bindBuffer(r.ARRAY_BUFFER,c.normalBuffer),r.vertexAttribPointer(n,3,r.FLOAT,!1,0,0),r.enableVertexAttribArray(n)),(i||0===i)&&(r.bindBuffer(r.ARRAY_BUFFER,c.textureCoordBuffer),r.vertexAttribPointer(i,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(i)),r.bindVertexArray(null),o.push(c)}))})),o},Xe=Ne(we,g,p,w,G),Pe=Ne(Le,g,p,w)[0],Ce=Ne(Ue,de,me,Ee)[0],Ie=Ne(Me,z,null,k),Ve=Ne(Fe,ne,null,ie),Oe=Ne(ye,ne,null,ie),Ge=Ne(Se,ne,null,ie),je=De("./models/sleepy-sun.png"),He=De("./models/moon.png"),We=r.createTexture(),Ye=4096;r.bindTexture(r.TEXTURE_2D,We),r.texImage2D(r.TEXTURE_2D,0,r.DEPTH_COMPONENT32F,Ye,Ye,0,r.DEPTH_COMPONENT,r.FLOAT,null),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const Ke=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,Ke),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,We,0);const $e=r.createTexture(),ze=2048;r.bindTexture(r.TEXTURE_2D,$e),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,ze,ze,0,r.RGBA,r.UNSIGNED_BYTE,null),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR);const ke=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,ke),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,$e,0);const qe=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,qe),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT32F,ze,ze),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.RENDERBUFFER,qe);const Je=.698133;let Qe=!0;const Ze=(0,n.RV)(45),et=[0,0,0],tt=[0,1,0];r.useProgram(A),r.uniform1f(L,0),r.uniform1f(M,Je);let rt=110,nt=290;const it=e=>{(Qe||t.clientWidth!==T||t.clientHeight!==b)&&(r.canvas.width=T,r.canvas.height=b,_=t.clientWidth/t.clientHeight,Qe=!1);let i=(160+.002*(e||1))%360;i<0&&(i+=360);let a=(0,n.$u)();a=(0,n.Ry)(a,(0,n.__)((0,n.RV)(i))),a=(0,n.Ry)(a,(0,n.fS)((0,n.RV)(5)));const u=[25*a[0],25*a[1],25*a[2]],c=(0,n.S8)(u),s=[Math.sin((0,n.RV)(nt))*Math.cos((0,n.RV)(rt))*m,Math.cos((0,n.RV)(nt))*m,Math.sin((0,n.RV)(nt))*Math.sin((0,n.RV)(rt))*m],f=(0,n.G9)(s,et,tt),l=(0,n.XU)(f),d=(0,n.ti)(Ze,_,.1,1500),E=-25e-6*(e||1),R=(0,n.fS)(E);let h=(0,n.$u)();h=(0,n.Ry)(h,(0,n.s9)(0,-8.2,0)),h=(0,n.Ry)(h,(0,n.fS)(E)),h=(0,n.Ry)(h,(0,n.cK)(20,10,20));const x=(0,o.B)(i);r.clearColor(x[0],x[1],x[2],1);const v=Math.min((x[0]+x[1]+x[2])/3+.4,1);r.useProgram(O);const g=(0,n.XU)((0,n.G9)(u,et,tt)),p=(0,n.ti)((0,n.RV)(95),1,.1,1500);r.uniformMatrix4fv(j,!1,R),r.uniformMatrix4fv(H,!1,g),r.uniformMatrix4fv(W,!1,p),r.bindFramebuffer(r.FRAMEBUFFER,Ke),r.viewport(0,0,Ye,Ye),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),Xe.forEach((e=>{r.bindVertexArray(e.shadowVAO),r.drawArrays(r.TRIANGLES,0,e.faces)})),r.useProgram(A),r.uniformMatrix4fv(U,!1,R);const w=(0,n.XU)((0,n.Ry)((0,n.Yj)(Je),f));r.uniformMatrix4fv(F,!1,w),r.uniformMatrix4fv(y,!1,d),r.uniform1f(L,1),r.cullFace(r.FRONT),r.bindFramebuffer(r.FRAMEBUFFER,ke),r.viewport(0,0,ze,ze),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),r.uniformMatrix4fv(U,!1,R);const M=()=>{Xe.forEach((e=>{r.bindVertexArray(e.vao),r.uniform3fv(P,e.material.diffuse||[1,1,1]),r.uniform1f(C,e.material.opacity),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,e.texture),r.activeTexture(r.TEXTURE1),r.bindTexture(r.TEXTURE_2D,We),r.drawArrays(r.TRIANGLES,0,e.faces)}))};M(),r.uniform1f(L,0),r.useProgram($),r.uniformMatrix4fv(J,!1,w),r.uniformMatrix4fv(Q,!1,d),r.uniform1f(Z,v);const I=(0,n.RV)(180),V=(0,n.RV)(90),G=(0,n.RV)(180),Y=[300*c[0],300*c[1],300*c[2]];let K=(0,n.$u)();K=(0,n.Ry)(K,(0,n.s9)(Y[0],Y[1],Y[2])),K=(0,n.Ry)(K,(0,n.s9)(s[0],s[1],s[2])),K=(0,n.Ry)(K,(0,n.G9)(Y,[0,0,0],tt)),K=(0,n.Ry)(K,(0,n.__)(G)),K=(0,n.Ry)(K,(0,n.fS)(V)),K=(0,n.Ry)(K,(0,n.UW)(I)),K=(0,n.Ry)(K,(0,n.cK)(20,20,20)),r.uniformMatrix4fv(q,!1,K);const z=()=>{Ie.forEach((e=>{r.bindVertexArray(e.vao),r.activeTexture(r.TEXTURE0),i>=5&&i<175?r.bindTexture(r.TEXTURE_2D,e.texture):i>=175&&i<185?r.bindTexture(r.TEXTURE_2D,je):i>=185&&i<355?r.bindTexture(r.TEXTURE_2D,He):r.bindTexture(r.TEXTURE_2D,je),r.drawArrays(r.TRIANGLES,0,e.faces)}))};z(),r.cullFace(r.BACK),r.uniformMatrix4fv(J,!1,l),r.bindFramebuffer(r.FRAMEBUFFER,null),r.viewport(0,0,r.canvas.width,r.canvas.height),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),z(),r.useProgram(A),r.uniformMatrix4fv(U,!1,R),r.uniformMatrix4fv(F,!1,l),r.uniformMatrix4fv(y,!1,d),r.uniform1f(X,v),r.uniform3fv(N,c),r.uniform1i(B,0),r.uniform1i(D,1);let k=(0,n.$u)();k=(0,n.Ry)(k,(0,n.s9)(.5,.5,.5)),k=(0,n.Ry)(k,(0,n.cK)(.5,.5,.5)),k=(0,n.Ry)(k,p),k=(0,n.Ry)(k,g),r.uniformMatrix4fv(S,!1,k),M(),r.disable(r.CULL_FACE),r.uniformMatrix4fv(U,!1,h),r.bindVertexArray(Pe.vao),r.uniform3fv(P,Pe.material.diffuse||[1,1,1]),r.uniform1f(C,Pe.material.opacity),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,Pe.texture),r.drawArrays(r.TRIANGLES,0,Pe.faces),r.enable(r.CULL_FACE),r.useProgram(re),r.uniformMatrix4fv(ue,!1,d),r.uniformMatrix4fv(oe,!1,l);const ee=1e3;let te=(0,n.$u)();te=(0,n.Ry)(te,(0,n.s9)(s[0],s[1],s[2])),te=(0,n.Ry)(te,(0,n.cK)(ee,ee,ee));let ne=(0,n.$u)();ne=(0,n.Ry)(ne,(0,n.s9)(s[0],s[1],s[2])),ne=(0,n.Ry)(ne,(0,n.cK)(900,900,900));const ie=(0,o.p)(i),se=()=>{r.uniform1f(ce,ie),r.uniformMatrix4fv(ae,!1,te),r.bindVertexArray(Ve[0].vao),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,Ve[0].texture),r.drawArrays(r.TRIANGLES,0,Ve[0].faces),r.uniform1f(ce,.5*ie),r.uniformMatrix4fv(ae,!1,ne),r.bindVertexArray(Oe[0].vao),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,Oe[0].texture),r.drawArrays(r.TRIANGLES,0,Oe[0].faces)};se(),r.cullFace(r.FRONT),r.bindFramebuffer(r.FRAMEBUFFER,ke),r.viewport(0,0,ze,ze),r.uniformMatrix4fv(oe,!1,w),se(),r.cullFace(r.BACK),r.bindFramebuffer(r.FRAMEBUFFER,null),r.viewport(0,0,r.canvas.width,r.canvas.height),r.uniformMatrix4fv(oe,!1,l);let fe=(0,n.$u)();fe=(0,n.Ry)(fe,(0,n.s9)(s[0],s[1],s[2])),fe=(0,n.Ry)(fe,(0,n.fS)(E)),fe=(0,n.Ry)(fe,(0,n.cK)(200,200,200)),r.uniform1f(ce,1-ie),r.uniformMatrix4fv(ae,!1,fe),r.bindFramebuffer(r.FRAMEBUFFER,null),r.viewport(0,0,r.canvas.width,r.canvas.height);const de=()=>{r.bindVertexArray(Ge[0].vao),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,Ge[0].texture),r.drawArrays(r.TRIANGLES,0,Ge[0].faces)};de(),r.cullFace(r.FRONT),r.bindFramebuffer(r.FRAMEBUFFER,ke),r.viewport(0,0,ze,ze),r.uniformMatrix4fv(oe,!1,w),de(),r.cullFace(r.BACK),r.bindFramebuffer(r.FRAMEBUFFER,null),r.viewport(0,0,r.canvas.width,r.canvas.height),r.useProgram(le),r.uniformMatrix4fv(Re,!1,R),r.uniformMatrix4fv(_e,!1,l),r.uniformMatrix4fv(Te,!1,d),r.uniform1f(ge,v),r.uniform3fv(Ae,c),r.uniform1i(he,0),r.uniform1i(xe,1),r.uniform1i(ve,2),r.bindVertexArray(Ce.vao),r.uniform1f(pe,1),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,$e),r.uniform1f(pe,Ce.material.opacity),r.activeTexture(r.TEXTURE1),r.bindTexture(r.TEXTURE_2D,Ce.texture),r.activeTexture(r.TEXTURE2),r.bindTexture(r.TEXTURE_2D,We);let me=(0,n.$u)();me=(0,n.Ry)(me,(0,n.s9)(.5,.5,.5)),me=(0,n.Ry)(me,(0,n.cK)(.5,.5,.5)),me=(0,n.Ry)(me,d),me=(0,n.Ry)(me,w),r.uniformMatrix4fv(be,!1,me),r.drawArrays(r.TRIANGLES,0,Ce.faces),requestAnimationFrame(it)};it()})(),t()}catch(e){t(e)}}))},300:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{$u:()=>a.$u,G9:()=>a.G9,RV:()=>a.RV,Ry:()=>a.Ry,S8:()=>a.S8,UW:()=>a.UW,XU:()=>a.XU,Yj:()=>a.Yj,__:()=>a.__,cK:()=>a.cK,fS:()=>a.fS,s9:()=>a.s9,ti:()=>a.ti});var i=r(650),a=r(408),o=e([i]);i=(o.then?(await o)():o)[0],(0,a.lI)(i),i.__wbindgen_start(),n()}catch(e){n(e)}}))},408:(e,t,r)=>{let n;function i(e){n=e}r.d(t,{$4:()=>A,$u:()=>s,G9:()=>b,Py:()=>w,QJ:()=>g,Qn:()=>U,RV:()=>u,Ry:()=>f,S8:()=>c,UW:()=>E,XL:()=>x,XU:()=>l,Yj:()=>h,_J:()=>v,__:()=>_,bL:()=>p,cK:()=>m,fS:()=>R,lI:()=>i,s9:()=>d,ti:()=>T}),e=r.hmd(e);let a=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});a.decode();let o=null;function u(e){return n.degrees_to_radians(e)}function c(e){return n.normalize(e)}function s(){return n.m4_identity()}function f(e,t){return n.m4_multiply(e,t)}function l(e){return n.m4_inverse(e)}function d(e,t,r){return n.m4_translation(e,t,r)}function m(e,t,r){return n.m4_scaling(e,t,r)}function E(e){return n.m4_x_rotation(e)}function R(e){return n.m4_y_rotation(e)}function _(e){return n.m4_z_rotation(e)}function T(e,t,r,i){return n.m4_perspective(e,t,r,i)}function b(e,t,r){return n.m4_look_at(e,t,r)}function h(e){return n.m4_reflection(e)}function x(e){return e.buffer}function v(e,t){return e[t>>>0]}function A(e){return new Float64Array(e)}function g(e,t,r){return new Float64Array(e,t>>>0,r>>>0)}function p(){const e=n.__wbindgen_export_0,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)}function w(){return n.memory}function U(e,t){throw new Error((r=e,i=t,r>>>=0,a.decode((null!==o&&0!==o.byteLength||(o=new Uint8Array(n.memory.buffer)),o).subarray(r,r+i))));var r,i}},370:(e,t,r)=>{r.d(t,{A:()=>n});const n=async(e,t)=>{const r=await fetch(`${e}/${t}.mtl`),n=await fetch(`${e}/${t}.obj`),i=await r.text(),a=await n.text(),o=(e=>{const t=[];let r={material:void 0,shininess:void 0,ambient:void 0,diffuse:void 0,specular:void 0,emissive:void 0,opacity:void 0,diffuseMap:void 0};const n=e.split("\n");for(const e of n){const[n,...i]=e.split(" ");"newmtl"===n&&(void 0===r.material||(t[r.material]=r,r={material:void 0,shininess:void 0,ambient:void 0,diffuse:void 0,specular:void 0,emissive:void 0,opacity:void 0,diffuseMap:void 0}),r.material=i.join(" ")),"Ns"===n&&(r.shininess=Number(i[0])),"Ka"===n&&(r.ambient=[...i.map((e=>Number(e)))]),"Kd"===n&&(r.diffuse=[...i.map((e=>Number(e)))]),"Ks"===n&&(r.specular=[...i.map((e=>Number(e)))]),"Ke"===n&&(r.emissive=[...i.map((e=>Number(e)))]),"d"===n&&(r.opacity=Number(i[0])),"map_Kd"===n&&(r.diffuseMap=i.join(" ")),r.material&&(t[r.material]=r)}return t})(i);return((e,t)=>{const r=new Map;let n;const i=[],a=[],o=[],u=e=>({mtlName:e,material:t[e],faces:0,positions:[],textureCoords:[],normals:[]});let c=null,s=null;const f=e.split("\n");for(const e of f){const[t,...f]=e.split(" ");if("mtllib"===t&&(n?console.error("Unhandled: Multiple mtllib"):n=f.join(" ")),"o"===t&&(c&&(s&&c.meshes.set(s.mtlName,s),r.set(c.objName,c)),c={objName:f.join(" ").trim(),meshes:new Map},s=null),"usemtl"===t){const e=f.join(" ");s&&c.meshes.set(s.mtlName,s),s=u(e)}if("v"===t){const e=[];for(const t of f)e.push(Number(t));i.push(e)}if("vt"===t){const e=[];for(const t of f)e.push(Number(t));a.push(e)}if("vn"===t){const e=[];for(const t of f)e.push(Number(t));o.push(e)}if("f"===t)for(const e of f){const[t,r,n]=e.split("/");s.positions.push(...i[Number(t)-1]),s.textureCoords.push(...a[Number(r)-1]),s.normals.push(...o[Number(n)-1]),s.faces++}}return s.material&&c.meshes.set(s.mtlName,s),r.set(c.objName,c),r})(a,o)}},342:(e,t,r)=>{r.d(t,{g:()=>i,r:()=>n});const n=(e,t,r)=>{const n=e.createProgram();if(e.attachShader(n,t),e.attachShader(n,r),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS))return n;console.error(e.getProgramInfoLog(n)),e.deleteProgram(n)},i=(e,t,r)=>{const n=e.createShader(t);if(e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))return n;console.error(e.getShaderInfoLog(n)),e.deleteShader(n)}},774:(e,t,r)=>{r.d(t,{B:()=>n,p:()=>i});const n=e=>{let t,r,n;const i=(e,t,r,n)=>e/t*(n-r)+r,a=e=>e/255;if(e>=15&&e<175)t=183,r=210,n=245;else if(e>=175&&e<205){const a=e-175,o=30;t=i(a,o,183,22),r=i(a,o,210,27),n=i(a,o,245,47)}else if(e>=205&&e<345)t=22,r=27,n=47;else{const a=(e+15)%360,o=30;t=i(a,o,22,183),r=i(a,o,27,210),n=i(a,o,47,245)}return[a(t),a(r),a(n)]},i=e=>e>=15&&e<175?0:e>=175&&e<205?(e-175)/30:e>=205&&e<345?1:e>=345?1-(e-345)/30:1-(e/30+.5)},650:(e,t,r)=>{var n=r(408);e.exports=r.v(t,e.id,"7478ab5d63bb623976fa",{"./index_bg.js":{__wbg_buffer_61b7ce01341d7f88:n.XL,__wbg_newwithbyteoffsetandlength_11300648888c0ebb:n.QJ,__wbg_new_6345e64e36c253c5:n.$4,__wbg_getindex_c7b30540fc5cfacd:n._J,__wbindgen_throw:n.Qn,__wbindgen_memory:n.Py,__wbindgen_init_externref_table:n.bL}})}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={id:e,loaded:!1,exports:{}};return i[e](r,r.exports,o),r.loaded=!0,r.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},o.a=(i,a,o)=>{var u;o&&((u=[]).d=-1);var c,s,f,l=new Set,d=i.exports,m=new Promise(((e,t)=>{f=t,s=e}));m[t]=d,m[e]=e=>(u&&e(u),l.forEach(e),m.catch((e=>{}))),i.exports=m,a((i=>{var a;c=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[e])return i;if(i.then){var a=[];a.d=0,i.then((e=>{o[t]=e,n(a)}),(e=>{o[r]=e,n(a)}));var o={};return o[e]=e=>e(a),o}}var u={};return u[e]=e=>{},u[t]=i,u})))(i);var o=()=>c.map((e=>{if(e[r])throw e[r];return e[t]})),s=new Promise((t=>{(a=()=>t(o)).r=0;var r=e=>e!==u&&!l.has(e)&&(l.add(e),e&&!e.d&&(a.r++,e.push(a)));c.map((t=>t[e](r)))}));return a.r?s:o()}),(e=>(e?f(m[r]=e):s(d),n(u)))),u&&u.d<0&&(u.d=0)},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.v=(e,t,r,n)=>{var i=fetch(o.p+""+r+".module.wasm"),a=()=>i.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,n))).then((t=>Object.assign(e,t.instance.exports)));return i.then((t=>"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(t,n).then((t=>Object.assign(e,t.instance.exports)),(e=>{if("application/wasm"!==t.headers.get("Content-Type"))return console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e),a();throw e})):a()))},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),o(237)})();